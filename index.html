<!DOCTYPE html>
<html>
    <head>
        <meta chearsetz="UTF-8">
        <meta name="viewport" content="width-device-width">

        <title>my photo</title>
        <link rel="stylesheet" href="css/style.css">
    </head>

    <body>
        <div class="container">
            <header>
                <h1>My Pohotos</h1>
            </header>

            <div id="img_unit">
                    <!-- この部分に、document.creatElemantで作った要素が入ります。 -->
            </div>
        </div>
            <script>
                var ajax = new XMLHttpRequest();
                ajax.open('GET', 'https://h2o-space.com/htmlbook/images.php');
                ajax.responseType = 'json';
                ajax.send(null);

                ajax.onreadystatechange = function(){
                    if(ajax.readyState === XMLHttpRequest.DONE && ajax.status === 200){
                        for (var i=0; i<this.response.length; i++){
                            var data = this.response[i];

                            var img = document.createElement('img');
                            img.setAttribute('src', data.path);


                            var caption = document.createElement('div');
                            caption.className = 'inner';
                            caption.innerHTML = '<p>' + data.caption + '<span>' + data.name +'</span></p>';

                            var div = document.createElement('div');
                            div.className = 'photo',
                            div.appendChild(img);
                            div.appendChild(caption);

                            document.getElementById('img_unit').appendChild(div);    
                        }
                    }
                };
            </script>

    </body>
</html>


